{{>navbar}}

<main class="mt-[80px]">
	<a onclick="window.history.back()">
		<button class="go-back">
			<i class="material-icons">arrow_back</i>
		</button>
	</a>

	<h1 class="title">Nuevo equipo</h1>
	<form class="form-container" action="/equipos" method="post" id="form-new-refunit">
		<div class="grid gap-8 mb-4 sm:grid-cols-2 lg:grid-cols-3">
			<div class="form-field">
				<label for="client">Nombre de Cliente:</label>
				<input type="text" name="clientName" value="{{clientName}}" style="text-transform: uppercase;" readonly />
			</div>
			<div class="form-field">
				<label for="client">ID Cliente:</label>
				<input type="text" name="client" value={{clientId}} readonly />
			</div>
			<div class="form-field">
				<label for="name">Nº Serie: (*)</label>
				<input type="text" name="serialNumber" placeholder="0000000000" id="serial-number" maxlength="10" required />
			</div>
			<div class="form-field">
				<label for="plate-number">Matrícula </label>
				<input type="text" id="plate-number" name="plate" placeholder="ATP1234" style="text-transform: uppercase; "
					{{!-- required maxlength="7" pattern="^[A-Za-z]{1,3}[0-9]{1,4}" /> --}} maxlength="12" />
			</div>
			<div class="form-field">
				<label for="model">Modelo <span class="text-red-500">*</span></label>
				{{!-- <input type="text" name="model" placeholder="V-500" /> --}}
				<select name="model" id="select-model" required>
					<option value="C-150" class="text-black">C-150</option>
					<option value="C-250">C-250</option>
					<option value="C-350">C-350</option>
					<option value="C-450">C-450</option>
					<option value="C-550">C-550</option>
					<option value="C-650">C-650</option>
					<option value="C-750">C-750</option>
					<option value="RV-200">RV-200</option>
					<option value="RV-380">RV-380</option>
					<option value="RV-380">RV-580</option>
					<option value="V-200">V-200</option>
					<option value="V-300">V-300</option>
					<option value="V-500">V-500</option>
					<option value="V-600">V-600</option>
					<option value="V-800">V-800</option>
					<option value="EV-500">EV-500</option>
					<option value="T-600">T-600</option>
					<option value="T-800">T-800</option>
					<option value="T-1200">T-1200</option>
					<option value="SLXi400">SLXi 400</option>
					<option value="SLII">SLII</option>
					<option value="SLIII">SLIII</option>
					<option value="A500">Advancer A500</option>
					<option value="C-600">Precedent C-600</option>
					<option value="Otro">Otro (AVISAR A MAURO)</option>
				</select>
			</div>
			<div class="form-field">
				<label for="soldByReci">Venta RECI <span class="text-red-500">*</span></label>
				<select name="soldByReci" id="soldByReciSelect" required>
					<option value="" disabled selected>Seleccionar</option>
					<option value="true">Si</option>
					<option value="null">No</option>
				</select>
			</div>
			<div class="form-field">
				<label for="hours">Fecha límite de garantía: <span class="text-red-500">*</span></label>
				<input type="date" id="warranty-date" name="warrantyDate" placeholder="" />
			</div>
		</div>
		<button class="button-success button-form" role="submit">Guardar</button>
	</form>
</main>

<script>

	const soldByReciSelect = document.querySelector('#soldByReciSelect');
	const warrantyDate = document.querySelector('#warranty-date');

	soldByReciSelect.addEventListener('change', (e) => {
		let soldByReci = soldByReciSelect.value === 'true';
		if (soldByReci) {
			warrantyDate.required = true;
			warrantyDate.disabled = false;
			warrantyDate.classList.remove('disabled-select');
		} else {
			warrantyDate.required = false;
			warrantyDate.disabled = true;
			warrantyDate.classList.add('disabled-select');
		}
	});
</script>

{{#each scripts}}
<script src="{{script}}"></script>
{{/each}}